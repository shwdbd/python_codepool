# 三种数据格式文件比较

文件存储是常用操作，除csv文件外二进制文件也是python常用存储文件。pandas库常用的二进制存贮文件格式有feather和pickle。这里就这三种文件的内存、硬盘存储空间性能、pandas读写性能做一个对比，然后给出一个使用建议。

## 一、三种文件格式介绍

csv是日常常用的文件格式，其文件以纯文本形式存储，其人工可读、格式简单的特性使得称为数据分析中最常用的文件格式。也由于其文本存储特点，也有空间占用大、读写速度慢的缺点。

官方介绍Feather是一款高速，轻量，易于使用的二进制文件格式。适合于中型数据（GB为单位的数据），不建议将Feather作为长期的保存格式。其原本是Apache Arrow项目中包含的一种数据格式，后来单独立项。

pickle格式是Python专用的持久化解决方案，可以持久化包括自定义类在内的各种数据，比较适合Python本身复杂数据的存贮。

## 二、pandas的读写接口

## 三、比较程序

我们计划使用一个程序比较三种格式的读写与存储性能，通过随机生成的大容量Dataframe，分别看使用三种数据格式情况下的性能，包括：

- 内存容量
- 硬盘容量
- pandas读写时间

具体的代码如下：

## 四、结论

根据代码实测结果，feather和pickle格式，文件大小相差不大，读写速度上pickle有明显优势。所以，建议在临时文件存放中使用pickle格式。

## 参考资料

Feather官网：<https://arrow.apache.org/docs/python/feather.html>
